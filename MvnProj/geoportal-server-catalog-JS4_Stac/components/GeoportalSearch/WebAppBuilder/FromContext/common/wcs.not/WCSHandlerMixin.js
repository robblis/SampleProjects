define(["dojo/_base/array","dojo/_base/lang","dojo/request/handlers","dojo/_base/xhr","dojo/request"],function(n,t,i,r){return t.mixin(r.contentHandlers,{multipart_gml_coverage:function(i){var r={parse:function(n){var t=this._getBoundary(n),r,i;return t!==null&&(i=n.responseText.replace("--"+t+"\r\n","--"+t+"\n").split("--"+t+"\n"),console.log(i.length),i.length===3&&(r=this._getImage(i[2]))),r.arrayBuffer},_getBoundary:function(n){var u=null,t=n.getResponseHeader("Content-Type"),r=t.indexOf('boundary="'),i;return r>-1&&(i=t.indexOf('";',r),i===-1&&(i=t.length-1),u=t.slice(r+10,i)),u},_getImage:function(n){for(var f=n.split("\n"),r=0,h=Math.min(f.length,6),t,i={},u,r=0;r<h;r++)if(f[r].slice(0,7)==="Content"){if(t=f[r].split(":"),t.length===2)switch(t[0]){case"Content-Type":i.contentType=t[1].trim();break;case"Content-Description":i.contentDescription=t[1].trim();break;case"Content-Transfer-Encoding":i.contentTransferEncoding=t[1].trim();break;case"Content-ID":i.contentID=t[1].trim();break;case"Content-Disposition":i.contentDisposition=t[1].trim()}}else{var c=n.indexOf(f[r].slice(0,10)),e=n.slice(c),o=e.length,s=new ArrayBuffer(o),l=new Uint8Array(s);for(u=0;u<o;u++)l[u]=e.charCodeAt(u);i.arrayBuffer=s;break}return i},_parseHeaders:function(i){var r={},u=i.split(/[\r\n]/);return n.forEach(u,function(n){var i=n.split(":");i.length>0&&(r[t.trim(i[0])]=t.trim(i[1]))},this),r}};return r.parse(i)}}),null});
//# sourceMappingURL=WCSHandlerMixin.min.js.map
